# Kuruma-Logger サポートサイト仕様書（ドラフト v0.4）

- 作成日: 2026-02-07
- 対象リポジトリ: `Kuruma-Logger/website`
- ステータス: 方針反映済み（実装着手）

## 1. 目的

Kuruma-Logger 利用者が、最短で以下を自己解決できるサポートサイトを提供する。

- 初期セットアップ手順の理解
- よくあるトラブルの解決
- 更新方法（ファームウェア/設定）の理解
- 問い合わせ窓口への到達

## 2. 想定ユーザー

- Kuruma-Logger の新規導入者
- 既存利用者（アップデート/不具合切り分け）
- 開発者・上級者（車種別仕様、ログ形式確認）

## 3. 公開方針（GitHub Pages）

### 3.1 前提

- `website` リポジトリを GitHub Pages で公開する
- デプロイは GitHub Actions で自動化する
- `main` へのマージを公開トリガーとする

### 3.2 技術構成（提案）

- フレームワーク: Astro（静的出力）
- パッケージ管理: npm
- 出力: 完全静的ファイル（`dist/`）
- 配信: GitHub Pages（Actions で `dist/` を公開）

選定理由:
- サポートサイト用途に必要なページを軽量に構築しやすい
- 将来 FAQ やドキュメント増加時にも拡張しやすい
- GitHub Pages への静的配信と相性がよい

## 4. サイトマップ（初期版）

- `/` ホーム
- `/setup/` セットアップガイド
- `/troubleshooting/` トラブル対応（FAQ統合）
- `/updates/` 更新情報/アップデート案内
- `/contact/` 問い合わせ
- `/legal/` 法務情報（ライセンス、免責、プライバシー）

## 5. ページ要件（初期版）

### 5.1 ホーム

- サイトの目的説明
- 主要導線（セットアップ、トラブル対応、問い合わせ）
- 最新情報への導線（`/updates/`）

### 5.2 セットアップガイド

- 必要機材チェック
- 初回起動までの手順（短縮版）
- Wi-Fi 設定/GPS 初期化の手順リンク
- 失敗しやすいポイントの注記

### 5.3 トラブル対応（FAQ統合）

- 症状別の分岐導線
- FAQ 形式のよくある質問
- 対処手順
- 解決しない場合の問い合わせ導線

### 5.4 更新情報/アップデート案内

- 更新内容（変更点）の説明
- ライセンスサーバーへの誘導リンク
- 更新手順（WebUSB が使える場合/使えない場合）

### 5.5 問い合わせ

- サイト内にログイン不要の問い合わせフォームを設置
- GitHub Pages 構成のため、フォーム送信先は Formspree を利用
- 問い合わせ時の必要情報テンプレート
  - 端末/車種/ファームウェア版
  - 発生手順
  - ログ有無

### 5.6 法務情報

- OSS ライセンス表記（Apache-2.0 ほか）
- 免責事項
- フォーム送信データの取り扱いに関する記述

## 6. 機能要件

- 日本語のみ（多言語対応は行わない）
- グローバルナビゲーション
- ログイン不要の問い合わせフォーム
- モバイル表示対応
- OGP/SEO 基本設定
- 404 ページ

## 7. 非機能要件

- 表示速度: Core Web Vitals を大きく損なわない静的構成
- 可用性: GitHub Pages 稼働率に準拠
- 保守性: Markdown 中心で更新可能
- アクセシビリティ: 主要操作をキーボードで実施可能
- デザイン方針: シンプル優先
- アナリティクス: 導入しない

## 8. コンテンツ運用

- `セットアップ / トラブル対応（FAQ統合） / 法務情報` は `src/pages/**/index.md` を編集して更新
- PR ベースでレビューして公開
- 更新情報は `/updates/` で明示
- リリース連動更新（ファーム更新時に該当ページ更新）

## 9. リポジトリ構成（提案）

```text
website/
  ├─ src/
  │   ├─ pages/
  │   ├─ layouts/
  │   └─ components/
  ├─ src/pages/setup/index.md
  ├─ src/pages/troubleshooting/index.md
  ├─ src/pages/legal/index.md
  ├─ public/
  │   └─ images/
  ├─ .github/workflows/
  │   └─ deploy-pages.yml
  ├─ astro.config.mjs
  └─ package.json
```

## 10. 公開フロー（提案）

1. `main` にマージ
2. GitHub Actions がビルド
3. GitHub Pages に自動デプロイ
4. デプロイ結果を PR/Actions で確認

## 11. 初期マイルストーン（提案）

1. Phase 1: 土台構築
   - Astro 初期化
   - Pages デプロイ設定
   - 共通レイアウト/ナビ実装
2. Phase 2: 最小コンテンツ公開
   - ホーム/セットアップ/トラブル対応（FAQ統合）/問い合わせ
3. Phase 3: 運用強化
   - トラブルシュート拡充
   - 更新情報ページ運用
   - 問い合わせフォーム改善

## 12. 確定事項（2026-02-07）

1. 言語方針
   - 日本語のみ
2. 問い合わせ窓口
   - ログイン不要のフォームを提供（Formspree）
3. デザイン方針
   - シンプル優先
4. 更新履歴の見せ方
   - 更新内容の説明 + ライセンスサーバーへの誘導リンク
5. アナリティクス
   - 導入しない

---

このドラフトをベースに、実装仕様（画面ワイヤー・コンポーネント設計・運用手順）へ落とし込みます。
