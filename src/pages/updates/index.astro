---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { siteConfig } from "../../config/site";

const hasLicenseServer = Boolean(siteConfig.licenseServerUrl);
---

<BaseLayout currentPath="/updates/" title="更新情報">
  <section class="hero">
    <h1>更新情報</h1>
    <p>このページでは更新内容の要点と、アップデート導線を案内します。</p>
  </section>

  <section class="section">
    <h2>更新内容の掲載ルール</h2>
    <ul class="bullet-list">
      <li>追加機能、修正、不具合対応をリリース単位で記載</li>
      <li>利用者への影響がある変更は冒頭に明記</li>
      <li>必要な更新作業（再設定など）があれば記載</li>
    </ul>
  </section>

  <section class="section">
    <h2>最新の更新確認</h2>
    <div class="link-row">
      <a class="button-link" href={siteConfig.githubReleasesUrl} target="_blank" rel="noreferrer">
        GitHub Releases を確認
      </a>
      {
        hasLicenseServer ? (
          <a class="button-link primary" href={siteConfig.licenseServerUrl} target="_blank" rel="noreferrer">
            ライセンスサーバーへ
          </a>
        ) : (
          <span class="status-box warn">
            ライセンスサーバー URL が未設定です。`PUBLIC_LICENSE_SERVER_URL` を設定してください。
          </span>
        )
      }
    </div>
  </section>

  <section class="section">
    <h2>更新履歴テンプレート（編集用）</h2>
    <table>
      <thead>
        <tr>
          <th>バージョン</th>
          <th>日付</th>
          <th>主な変更点</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>vX.Y.Z</td>
          <td>YYYY-MM-DD</td>
          <td>変更点の要約を記載</td>
        </tr>
      </tbody>
    </table>
  </section>
</BaseLayout>
